/**
 * Performance Optimizations
 * CSS optimizations for Blueprint theme
 */

/* Critical CSS */
:root {
  --primary: #4361ee;
  --primary-dark: #3a56d4;
  --secondary: #7209b7;
  --accent: #f72585;
  --light: #f8f9fa;
  --dark: #212529;
  --gray-100: #f8f9fa;
  --gray-200: #e9ecef;
  --gray-300: #dee2e6;
  --gray-400: #ced4da;
  --gray-500: #adb5bd;
  --gray-600: #6c757d;
  --gray-700: #495057;
  --gray-800: #343a40;
  --gray-900: #212529;
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  --font-secondary: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  --transition-fast: 0.2s ease;
  --transition-normal: 0.3s ease;
  --transition-slow: 0.5s ease;
}

/* Content visibility for better rendering performance */
.site-footer,
.related-posts,
.comments-section {
  content-visibility: auto;
  contain-intrinsic-size: 1px 1000px;
}

/* Optimize animations */
@media (prefers-reduced-motion: no-preference) {
  .animate-on-scroll {
    transition: opacity 0.6s ease, transform 0.6s ease;
    will-change: opacity, transform;
  }
}

/* Optimize images */
img {
  max-width: 100%;
  height: auto;
}

/* Lazy loading */
img.lazy,
iframe.lazy {
  opacity: 0;
  transition: opacity 0.3s ease;
}

img.lazy.loaded,
iframe.lazy.loaded {
  opacity: 1;
}

/* Optimize web fonts */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('../fonts/inter-regular.woff2') format('woff2');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('../fonts/inter-bold.woff2') format('woff2');
}

/* Optimize CSS variables */
.btn-primary {
  background-color: var(--primary);
}

/* Use hardware acceleration for animations */
.animated-element {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimize box-shadows */
.optimized-shadow {
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}/
* Image optimization */
.optimized-image {
  width: 100%;
  height: auto;
  object-fit: cover;
}

/* Responsive images with srcset */
.responsive-image {
  max-width: 100%;
  height: auto;
}

/* Reduce repaints and reflows */
.transform-optimize {
  transform: translateZ(0);
  will-change: transform;
}

/* Optimize font loading */
.font-display-swap {
  font-display: swap;
}

/* Optimize SVG */
.optimized-svg {
  width: 24px;
  height: 24px;
}

/* Reduce layout shifts */
.aspect-ratio-box {
  position: relative;
  height: 0;
  padding-top: 56.25%; /* 16:9 Aspect Ratio */
  overflow: hidden;
}

.aspect-ratio-box-content {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* Optimize background images */
.optimized-bg {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Optimize transitions */
.optimized-transition {
  transition-property: transform, opacity;
  transition-duration: 0.3s;
  transition-timing-function: ease;
}

/* Optimize animations */
@keyframes optimized-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.optimized-animation {
  animation: optimized-fade-in 0.3s ease forwards;
}

/* Optimize rendering performance */
.render-optimize {
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimize for print */
@media print {
  .no-print {
    display: none !important;
  }
  
  .print-only {
    display: block !important;
  }
  
  a[href]:after {
    content: " (" attr(href) ")";
  }
}

/* Optimize for reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Optimize for high contrast */
@media (forced-colors: active) {
  .high-contrast-optimize {
    forced-color-adjust: none;
  }
}

/* Optimize for dark mode */
@media (prefers-color-scheme: dark) {
  .dark-mode-optimize {
    background-color: #121212;
    color: #f1f1f1;
  }
}

/* Optimize for data saving */
@media (prefers-reduced-data: reduce) {
  .data-saving-optimize {
    background-image: none !important;
  }
}