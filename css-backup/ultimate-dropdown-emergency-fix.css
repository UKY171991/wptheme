/*
=== ULTIMATE DROPDOWN EMERGENCY FIX ===
Maximum priority z-index fix for dropdown menu visibility
This is the nuclear option to ensure dropdowns appear above ALL content
*/

/* Maximum specificity and highest z-index values */
body .site-header,
html body .site-header {
    position: relative !important;
    z-index: 999998 !important;
    isolation: isolate !important;
}

body .main-navigation,
html body .main-navigation {
    position: relative !important;
    z-index: 999998 !important;
}

body .nav-menu,
html body .nav-menu {
    position: relative !important;
    z-index: 999998 !important;
}

body .nav-menu .menu-item,
html body .nav-menu .menu-item {
    position: relative !important;
    z-index: 999998 !important;
}

body .nav-menu .menu-item-has-children,
html body .nav-menu .menu-item-has-children,
body .nav-menu .mega-menu-item,
html body .nav-menu .mega-menu-item {
    position: relative !important;
    z-index: 999998 !important;
}

/* ULTIMATE DROPDOWN Z-INDEX - NUCLEAR OPTION */
body .dropdown-menu,
html body .dropdown-menu,
body .mega-menu-wrapper,
html body .mega-menu-wrapper,
body .sub-menu,
html body .sub-menu {
    position: absolute !important;
    z-index: 9999999 !important;
    top: 100% !important;
    left: 0 !important;
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: auto !important;
    background: white !important;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15) !important;
    border: 1px solid #eee !important;
    border-radius: 4px !important;
    min-width: 200px !important;
}

/* Show dropdowns on hover */
body .dropdown-menu.show,
html body .dropdown-menu.show,
body .mega-menu-wrapper.show,
html body .mega-menu-wrapper.show,
body .nav-menu .menu-item:hover .dropdown-menu,
html body .nav-menu .menu-item:hover .dropdown-menu,
body .nav-menu .menu-item:hover .mega-menu-wrapper,
html body .nav-menu .menu-item:hover .mega-menu-wrapper,
body .nav-menu .menu-item:hover .sub-menu,
html body .nav-menu .menu-item:hover .sub-menu {
    opacity: 1 !important;
    visibility: visible !important;
    z-index: 9999999 !important;
    display: block !important;
}

/* Force all page content below dropdowns */
body .hero-section,
html body .hero-section,
body .banner-section,
html body .banner-section,
body .front-page-hero,
html body .front-page-hero,
body .modern-hero,
html body .modern-hero,
body .page-header,
html body .page-header,
body .page-content,
html body .page-content,
body main,
html body main,
body .site-main,
html body .site-main,
body section,
html body section,
body .container,
html body .container,
body .wrapper,
html body .wrapper {
    z-index: 1 !important;
    position: relative !important;
}

/* Ensure dropdown menu items are properly styled */
body .dropdown-menu .menu-item,
html body .dropdown-menu .menu-item,
body .mega-menu-wrapper .menu-item,
html body .mega-menu-wrapper .menu-item {
    display: block !important;
    width: 100% !important;
    border-bottom: 1px solid #f0f0f0 !important;
}

body .dropdown-menu .menu-item:last-child,
html body .dropdown-menu .menu-item:last-child {
    border-bottom: none !important;
}

body .dropdown-menu .menu-item a,
html body .dropdown-menu .menu-item a,
body .mega-menu-wrapper .menu-item a,
html body .mega-menu-wrapper .menu-item a {
    display: block !important;
    padding: 12px 20px !important;
    color: #333 !important;
    text-decoration: none !important;
    transition: background-color 0.3s ease !important;
}

body .dropdown-menu .menu-item a:hover,
html body .dropdown-menu .menu-item a:hover,
body .mega-menu-wrapper .menu-item a:hover,
html body .mega-menu-wrapper .menu-item a:hover {
    background-color: #f8f9fa !important;
    color: #ff5f00 !important;
}

/* Mobile specific fixes */
@media (max-width: 768px) {
    body .dropdown-menu,
    html body .dropdown-menu,
    body .mega-menu-wrapper,
    html body .mega-menu-wrapper {
        position: relative !important;
        z-index: 9999999 !important;
        opacity: 1 !important;
        visibility: visible !important;
        display: none !important;
    }
    
    body .dropdown-menu.show,
    html body .dropdown-menu.show,
    body .mega-menu-wrapper.show,
    html body .mega-menu-wrapper.show {
        display: block !important;
    }
}
